<html>
<head>
<!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->

<!--<script src="http://code.highcharts.com/highcharts.js"></script>-->
<!--<script src="http://code.highcharts.com/modules/exporting.js"></script>-->
<!--<script src="pieChart.js"></script>-->
<script src="jquery/jquery-1.8.3.js"></script>
<script src="jquery/ui/1.10.0/jquery-ui.js"></script>

<script type="text/javascript">
jQuery.noConflict();
</script>

<!--<script src="highcharts/highcharts.js"></script>
<script src="highcharts/modules/exporting.js"></script>
<script src="highcharts/js/themes/gray.js"></script>-->
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>
<script src="http://www.highcharts.com/js/themes/gray.js"></script>

<script src="lib/calc.js"></script>
<script src="lib/validators.js"></script>
<script src="lib/charts.js"></script>
<script src="lib/info.js"></script>

<link  href="styles.css" rel="stylesheet">

</head>

<body bgcolor="#454545" text="#CCCCCC">
<table border=1 width=500>
<tr>
 <td colspan=3 align=left><b>1. System characteristics</b></td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'sysCapInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'sysCapInfo')" 
       onClick="spcc.info.toggle(this, 'sysCapInfo')">
   Installed capacity
  </div>
 </td>
 <td width=100><input type="text"  class="input" class="input" id="sysCap" value="1" size=10 onChange="spcc.val.sysCap(this);"/></td>
 <td width=50>kWp</td>
</tr>
<tr id="sysCapInfo" style="display:none">
 <td colspan=3>
  The installed capacity of the system in Watt (W - sometimes called Watt-peak, Wp). 
  This is the maximum power output the system can generate under optimal conditions.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'sysGenInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'sysGenInfo')" 
       onClick="spcc.info.toggle(this, 'sysGenInfo')">
	Expected generation
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="sysGen" value="1000" size=10 onChange="spcc.val.sysGen(this);"/></td>
 <td width=50>Wh/Wp/a</td>
</tr>
<tr id="sysGenInfo" style="display:none">
 <td colspan=3>
  The exepcted amount of energy generated yearly in Watt-hour per Watt-peak per year (Wh/Wp/a). 
  This figure is a function of the sunlight the system receives each year, dependent on latitude and orientation.
  The JRC produces a series of maps for Europe with maximum generation values that can be a good starting point to obtain this information.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'sysDecayInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'sysDecayInfo')" 
       onClick="spcc.info.toggle(this, 'sysDecayInfo')">
	Efficiency decay
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="sysDecay" value="0.5" size=10 onChange="spcc.val.sysDecay(this);"/></td>
 <td width=50>%/a</td>
</tr>
<tr id="sysDecayInfo" style="display:none">
 <td colspan=3>
 <i> The efficiency with with solar panels harvest energy decays with time, in part due to the impact of sunlight itself.
  Although not linear, nor constant, a figure of 0.5 percent per year (%/a) is a sensible option (i.e. a system that generated 1000 Wh this year will generate 995 Wh next year). </i>
 </td>
</tr>
<tr>
 <td align=right width=350>
 <div onMouseOver="spcc.info.setItalic(this, 'sysLifetimeInfo')" 
	  onMouseOut="spcc.info.setItalic(this, 'sysLifetimeInfo')" 
      onClick="spcc.info.toggle(this, 'sysLifetimeInfo')">
  Expected lifetime
 </div>
 <td width=100><input type="text"  class="input" id="sysLifetime" value="30" size=10 onChange="spcc.val.sysLifetime(this);"/></td>
 <td width=50>years</td>
</tr>
<tr id="sysLifetimeInfo" style="display:none">
 <td colspan=3>
  <i>The number of years the system is supposed to last. Various indicators can be used to determine expected system lifetime, like the point where efficiency drops below 80% of initial conditions. However, the most sensible option is to match this figure with the panels warranty period.</i>
 </td>
</tr>
<tr>
 <td colspan=3 align=left><b>2. Investment costs</b></td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'invPanelsInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'invPanelsInfo')" 
       onClick="spcc.info.toggle(this, 'invPanelsInfo')">
	Panels
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="invPanels" value="600" size=10 onChange="spcc.val.invPanels(this);"/></td>
 <td width=50>&euro;/kWp</td>
</tr>
<tr id="invPanelsInfo" style="display:none">
 <td colspan=3>
  The cost of the solar panels composing the system in euro per kWp (&euro;/kWp). 
  If only the bulk cost is known, including inverter and installation, insert the full value here and insert serp in the next two fields.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'invInverterInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'invInverterInfo')" 
       onClick="spcc.info.toggle(this, 'invInverterInfo')">
	Inverter
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="invInverter" value="200" size=10 onChange="spcc.val.invInverter(this);"/></td>
 <td width=50>&euro;/kWp</td>
</tr>
<tr id="invInverterInfo" style="display:none">
 <td colspan=3>
  The cost of the inverter linking the system to the grid (or storage system) in euro per kWp (&euro;/kWp). 
  If only the bulk cost is known, including panels and installation, leave zero in this field and use only the Panels cost field.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'invInstallInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'invInstallInfo')" 
       onClick="spcc.info.toggle(this, 'invInstallInfo')">
	Assembly and Installation
  </div>
</td>
 <td width=100><input type="text"  class="input" id="invInstall" value="800" size=10 onChange="spcc.val.invInstall(this);"/></td>
 <td width=50>&euro;/kWp</td>
</tr>
<tr id="invInstallInfo" style="display:none">
 <td colspan=3>
  The cost of system installation (usually also including paperwork and other procedures) in euro per kWp (&euro;/kWp). 
  If only the bulk cost is known, including panels and installation, leave zero in this field and use only the Panels cost field.
 </td>
</tr>
<tr>
 <td colspan=3 align=left><b>3. Maintenance</b></td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'maintInverterInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'maintInverterInfo')" 
       onClick="spcc.info.toggle(this, 'maintInverterInfo')">
	Inverter lifetime
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="maintInverter" value="10" size=10 onChange="spcc.val.maintInverter(this);"/></td>
 <td width=50>years</td>
</tr>
<tr id="maintInverterInfo" style="display:none">
 <td colspan=3>
  The lifetime of a solar panel is usually measured in decades, but the inverter will likely not last as long. 
  To calculate full costs the replacement of the inverter must accounted for. Again, warranty may be the best indicator.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'maintOtherInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'maintOtherInfo')" 
       onClick="spcc.info.toggle(this, 'maintOtherInfo')">
	Other costs
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="maintOther" value="20" size=10 onChange="spcc.val.maintOther(this);"/></td>
 <td width=50>&euro;/a</td>
</tr>
<tr id="maintOtherInfo" style="display:none">
 <td colspan=3>
  Other costs that may arrive, in euros per year (€/a). 
  Cleaning can be a necessity after long periods without rain, or in places frequented by birds.
  If insurance is required it can also be included in this field.
 </td>
</tr>
<tr>
 <td colspan=3 align=left><b>4. Financing</b></td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'fincPercentInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'fincPercentInfo')" 
       onClick="spcc.info.toggle(this, 'fincPercentInfo')">
	Percentage financed
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="fincPercent" value="80" size=10 onChange="spcc.val.fincPercent(this);"/></td>
 <td width=50>%</td>
</tr>
<tr id="fincPercentInfo" style="display:none">
 <td colspan=3>
  In case the system needs to be financed, its costs must be taken into account. 
  Here goes the percentage of the initial investment financed by a third party.
  As an example if the initial investment is 1000 € and financing is 800 € the value to insert is 80%.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'fincTimeInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'fincTimeInfo')" 
       onClick="spcc.info.toggle(this, 'fincTimeInfo')">
	Time
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="fincTime" value="8" size=10 onChange="spcc.val.fincTime(this);"/></td>
 <td width=50>years</td>
</tr>
<tr id="fincTimeInfo" style="display:none">
 <td colspan=3>
  The time span in years that will it take to pay back the financing.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'fincInterestInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'fincInterestInfo')" 
       onClick="spcc.info.toggle(this, 'fincInterestInfo')">
	Interest
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="fincInterest" value="2" size=10 onChange="spcc.val.fincInterest(this);"/></td>
 <td width=50>%/a</td>
</tr>
<tr id="fincInterestInfo" style="display:none">
 <td colspan=3>
  The interested paid back to the financier as percentage per year (%/a).
 </td>
</tr>
<tr>
 <td colspan=3 align=left><b>5. Storage</b></td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'strgCostInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'strgCostInfo')" 
       onClick="spcc.info.toggle(this, 'strgCostInfo')">
	Cost
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="strgCost" value="600" size=10 onChange="spcc.val.strgCost(this);"/></td>
 <td width=50>&euro;</td>
</tr>
</tr>
<tr id="strgCostInfo" style="display:none">
 <td colspan=3>
  If the system is being installed off-the-grid, instead linked to a storage system its costs must be included in the calculation.
  Beyond batteries it should include controller(s) or any other additional hardware costs.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'strgLifetimeInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'strgLifetimeInfo')" 
       onClick="spcc.info.toggle(this, 'strgLifetimeInfo')">
	Lifetime
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="strgLifetime" value="10" size=10 onChange="spcc.val.strgLifetime(this);"/></td>
 <td width=50>years</td>
</tr>
<tr id="strgLifetimeInfo" style="display:none">
 <td colspan=3>
  The storage harware should have lifetime inferior to that of the panels themselves, thus replacements must be accounted.
  Warranty is once more the best indicator.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'strgLifetimeInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'strgLifetimeInfo')" 
       onClick="spcc.info.toggle(this, 'strgLifetimeInfo')">
	Effiency
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="strgEff" value="90" size=10 onChange="spcc.val.strgEff(this);"/></td>
 <td width=50>%</td>
</tr>
<tr id="strgLifetimeInfo" style="display:none">
 <td colspan=3>
  Any storage system has losses, meaning that the amount of energy it feeds back is always somewhat inferior to that used to charge it.
  This value is the percentage of the energy return relative to the energy charged. 
  For instance, if a system is charged with 1000 W and returns back 900 W this value is 90%.
 </td>
</tr>
<tr>
 <td align=right width=350>
  <div onMouseOver="spcc.info.setItalic(this, 'strgEffInfo')" 
	   onMouseOut="spcc.info.setItalic(this, 'strgEffInfo')" 
       onClick="spcc.info.toggle(this, 'strgEffInfo')">
	Share of energy stored
  </div>
 </td>
 <td width=100><input type="text"  class="input" id="strgShare" value="30" size=10 onChange="spcc.val.strgEff(this);"/></td>
 <td width=50>%</td>
</tr>
<tr id="strgEffInfo" style="display:none">
 <td colspan=3>
  Not all the energy generated by the solar panels needs to be stored, part of is consumed immediatly by any appliances connected.
  An off-the-grid system should be dimensioned in order to minimise the usage of the storage system, so that it is needed mainly during summer, making the extra energy generated during the day available to the night; during the winter months idealy the storage system shouldn't be needed. This field is thus the percentage of the total energy generated throughout the year that gets to be stored.
 </td>
</tr>
<tr height=80>
 <td align=center colspan=3><input type="button" value="Calculate" onclick="spcc.calculate();" style="width=100px"></td>
</tr>
</table>
<div id="container" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<div id="graph-container" style="width: 580px; height: 400px; margin: 0 auto"  onclick="hello();" title="A beautiful graph">
</div>
</body>
</html>







